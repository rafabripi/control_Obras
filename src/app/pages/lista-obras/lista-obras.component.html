<div class="animated fadeIn fast">
  <h2>Listado de obras</h2>
  <p class="text-justify">
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugit delectus eaque reiciendis laboriosam! Dolore dicta quod nesciunt, tempora quae iste debitis sequi doloremque quibusdam rerum labore alias, cumque nulla praesentium.
  </p>
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-body">
          <input #input (keyup)="buscarObra( input.value )" type="text" placeholder="Buscar una obra" class="form-control">
        </div>
      </div>
    </div>
  </div>
  <div class="row" *ngIf="cargando">
    <div class="col-sm-12">
      <div class="card">
        <div class="card-body">
          <strong>Cargando...</strong>
        </div>
      </div>
    </div>
  </div>

  <!--Tabla de bootstap - con redireccion de angular - clases de estilos bootstrap
  - recorrido por la lista de obras-->
  <table class="table animated fadeIn fast">
      <caption>Total de obras {{conteo}}</caption>
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Nombre de la obra</th>
        <th scope="col">Communidad</th>
        <th scope="col">Estado</th>
      </tr>
    </thead>
    <tbody>
        <tr *ngFor="let item of obras; let i = index">
          <th scope="row">{{i + 1}} </th>
          <td [routerLink]="['/obrasInfo', item['_id']]" routerLinkActive="router-link-active">{{item.nombre_obra}}</td>
          <td [routerLink]="['/obrasInfo', item['_id']]" routerLinkActive="router-link-active">{{item.localidad}}</td>
          <td
            [ngClass]="{
              'table-success': item.estado == 'TERMINADA',
              'table-warning': item.estado == 'EN PROCESO',
              'list-group-item-light': item.estado == 'A CANCELAR'
            }"
            [routerLink]="['/obrasInfo', item['_id']]" routerLinkActive="router-link-active">{{item.estado}}
          </td>
        </tr>
    </tbody>
  </table>
</div>